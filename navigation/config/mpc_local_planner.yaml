# MPC Local Planner Parameters
MpcLocalPlannerROS:
  # Robot Configuration
  max_vel_x: 1.0
  max_vel_x_backwards: 0.3
  max_vel_y: 0.0
  max_vel_theta: 1.0
  acc_lim_x: 2.5
  acc_lim_theta: 3.0

  # Goal Tolerance
  xy_goal_tolerance: 0.3
  yaw_goal_tolerance: 0.5

  # Footprint
  footprint_model:
    type: "circular"
    radius: 0.3

  # Costmap converter (disabled for simplicity)
  costmap_converter_plugin: ""
  costmap_converter_spin_thread: true
  costmap_converter_rate: 5.0

  # Collision avoidance
  collision_avoidance:
    min_obstacle_dist: 0.3
    enable_dynamic_obstacles: true
    force_inclusion_factor: 1.5
    cutoff_factor: 5.0

  # Grid/Planner
  grid:
    type: "fd_grid"
    grid_size_ref: 20
    dt_ref: 0.3
    xf_fixed: [false, false, false]
    warm_start: true

  # Planning
  planning:
    objective:
      type: "minimum_time_via_points"
      minimum_time_via_points:
        position_weight: 0.0
        orientation_weight: 0.0
        via_point_weight: 1.0
    terminal_cost:
      type: "quadratic"
    terminal_constraint:
      type: "none"

  # Controller
  controller:
    outer_ocp_iterations: 1
    xy_goal_tolerance: 0.3
    yaw_goal_tolerance: 0.5
    global_plan_overwrite_orientation: true
    global_plan_viapoint_sep: 0.5
    max_global_plan_lookahead_dist: 3.0
    force_reinit_new_goal_dist: 1.0
    prefer_x_feedback: false
    publish_ocp_results: false
    allow_init_with_backwards_motion: false
